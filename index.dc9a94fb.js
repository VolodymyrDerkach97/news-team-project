function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},i=n.parcelRequire2cb1;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){a[e]=n},n.parcelRequire2cb1=i),i.register("kV9l4",(function(e,n){var t=i("14MV6"),a=i("5knmu"),o=i("5mU4k");const s=[{section:"admin",display_name:"Admin"},{section:"arts",display_name:"Arts"},{section:"automobiles",display_name:"Automobiles"},{section:"books",display_name:"Books"},{section:"briefing",display_name:"Briefing"},{section:"business",display_name:"Business"},{section:"climate",display_name:"Climate"},{section:"corrections",display_name:"Corrections"},{section:"crosswords & games",display_name:"Crosswords & Games"},{section:"education",display_name:"Education"},{section:"en español",display_name:"En Español"},{section:"fashion",display_name:"Fashion"},{section:"food",display_name:"Food"},{section:"guides",display_name:"Guides"},{section:"health",display_name:"Health"},{section:"home & garden",display_name:"Home & Garden"},{section:"home page",display_name:"Home Page"},{section:"job market",display_name:"Job Market"},{section:"lens",display_name:"Lens"},{section:"magazine",display_name:"Magazine"},{section:"movies",display_name:"Movies"},{section:"multimedia/photos",display_name:"Multimedia/Photos"},{section:"new york",display_name:"New York"},{section:"obituaries",display_name:"Obituaries"},{section:"opinion",display_name:"Opinion"},{section:"parenting",display_name:"Parenting"},{section:"podcasts",display_name:"Podcasts"},{section:"reader center",display_name:"Reader Center"},{section:"real estate",display_name:"Real Estate"},{section:"science",display_name:"Science"},{section:"smarter living",display_name:"Smarter Living"},{section:"sports",display_name:"Sports"},{section:"style",display_name:"Style"},{section:"sunday review",display_name:"Sunday Review"},{section:"t brand",display_name:"T Brand"},{section:"t magazine",display_name:"T Magazine"},{section:"technology",display_name:"Technology"},{section:"the learning network",display_name:"The Learning Network"},{section:"the upshot",display_name:"The Upshot"},{section:"the weekly",display_name:"The Weekly"},{section:"theater",display_name:"Theater"},{section:"times insider",display_name:"Times Insider"},{section:"today’s paper",display_name:"Today’s Paper"},{section:"travel",display_name:"Travel"},{section:"u.s.",display_name:"U.S."},{section:"universal",display_name:"Universal"},{section:"video",display_name:"Video"},{section:"well",display_name:"Well"},{section:"world",display_name:"World"},{section:"your money",display_name:"Your Money"}],r=new(0,t.default),c=document.querySelector(".categories__buttons"),d=document.querySelector(".news-card");c.addEventListener("click",(async function(e){const n=e.target.dataset.section;console.dir(n);try{const e=await r.fetchCategories(n);console.log(e);const t=(0,o.default)(e).slice(0,9);d.innerHTML="",(0,a.renderArticle)(t)}catch(e){}}));!function(){let e=document.querySelectorAll(".categories__dropdown-header"),n=document.querySelectorAll(".categories__dropdown-item");function t(){this.parentElement.classList.toggle("is-active")}function a(){let e=this.innerText,n=this.closest(".categories__dropdown");n.querySelector("#dropdown-span").innerText=e,n.classList.remove("is-active")}e.forEach((e=>{e.addEventListener("click",t)})),n.forEach((e=>{e.addEventListener("click",a)}))}();const l=document.getElementById("dropdown-span"),m=window.innerWidth;function p(e){e.forEach((function(e){const n=document.createElement("button");n.classList.add("categories__dropdown-item"),n.dataset.section=e.section,n.innerText=e.display_name,document.querySelector(".categories__buttons .categories__dropdown-content").appendChild(n)}))}if(l.textContent=m<768?"Categories":"Other",m<768){p(s)}else{if(!(m<1268)){return void p(s.slice(6,s.length))}p(s.slice(4,s.length))}})),i.register("5knmu",(function(n,t){var a,o,s,r;a=n.exports,o="renderArticle",s=function(){return m},Object.defineProperty(a,o,{get:s,set:r,enumerable:!0,configurable:!0});var c=i("kv2fh"),d=i("XAU1x");const l=document.querySelector(".news-card");function m(n){let t=[];const a=function(){try{const e=localStorage.getItem("favoriteList");return e?JSON.parse(e):[]}catch(e){console.log(e.message)}}();a.length&&(t=a.map((({id:e})=>e.toUpperCase())));const i=`<ul class="news-card__image-container">${n.map((({abstract:n,section:a,title:i,published_date:o,multimedia:s=[],url:r})=>{const l=t.includes(i.toUpperCase()),m=l?"Remove from favorite":"Add to favorite",p=l?"icon-heart":"icon-favorite";return`\n  <li class="news-card__item">\n   <div class="news-card__foto">\n    <img src="${s&&s[2]?.url?s[2].url:e(c)}" alt="${s&&s[2]?.caption?s[2].caption:"Default Image"}" class="news-card__image">\n  <div class="news-card__category">\n   ${a}\n  </div>\n  <button class="news-card__favorite-button" data-news-id="${i}">${m}<svg width="13" height="12" class="news-card__favorite-icon">\n    <use href="${e(d)}#${p}"></use></svg>\n  </button>\n  </div>\n  <div class="news-card__description">\n  <h2 class="news-card__title">\n    ${i}\n  </h2>\n  <p class="news-card__abstract">\n    ${n}\n  </p>\n  </div>\n  <div class="news-card__container">\n  <div class="news-card__date">\n    ${function(e){return e.results.map((({published_date:e})=>{const n=new Date(`${e}`),t=n.getFullYear(),a=String(n.getMonth()+1).padStart(2,"0");return`${String(n.getDate()).padStart(2,"0")}/${a}/${t}`}))}({results:[{published_date:o}]})}\n  </div>\n  <a href="${r}" target="_blank" rel="noreferrer noopener nofollow" class="news-card__read-more" data-news-id="${i}">\n    Read more\n  </a>\n \n  </div>\n  </li>\n`})).join("")}\n    </ul>`;l.insertAdjacentHTML("beforeEnd",i)}})),i.register("kv2fh",(function(e,n){e.exports=new URL(i("kyEFX").resolve("7XZkW"),import.meta.url).toString()})),i.register("XAU1x",(function(e,n){e.exports=new URL(i("kyEFX").resolve("dCaos"),import.meta.url).toString()})),i("kyEFX").register(JSON.parse('{"5ZPII":"index.dc9a94fb.js","7XZkW":"defaultimage.febeee97.jpg","dCaos":"icons.f05fa05b.svg","fcKtx":"read.0581ed4e.js"}')),i("8FnLx"),i("5knmu");var o=i("14MV6");i("5mU4k");var s=i("jcdIr"),r=i("hhGG0");document.querySelector(".fetch"),new(0,o.default);document.querySelector(".news-card").addEventListener("click",(function(e){const n=e.target;n.classList.contains("news-card__favorite-button")?(0,s.addToFavorites)(e):n.classList.contains("news-card__read-more")&&(0,r.readMore)(e)})),i("Jj8Ku"),i("fzJJC");!function(){function e(e,n,t){fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${n}&appid=${t}`).then((e=>e.json())).then((e=>{const n=e.name,t=Math.round(e.main.temp-273.15),a=e.weather[0].main,i=e.weather[0].description,o=(e.weather[0].icon,`\n        <div id = "weather__header">\n          <div id = "weather__degree">${t}&#186; </div>\n            <div id = "weather__description">\n              <div id = "weather__cloud">\n                  ${a} \n              </div>\n              <div id = "weather__location">\n                <div>\n                  <svg width="18" height="23" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path d="M7.00001 0.125C5.35957 0.126935 3.78688 0.779452 2.62692 1.93941C1.46696 3.09938 0.814442 4.67207 0.812507 6.3125C0.810542 7.65306 1.24843 8.95725 2.05901 10.025C2.05901 10.025 2.22776 10.2472 2.25532 10.2793L7.00001 15.875L11.7469 10.2764C11.7717 10.2466 11.941 10.025 11.941 10.025L11.9416 10.0233C12.7517 8.95603 13.1894 7.65245 13.1875 6.3125C13.1856 4.67207 12.5331 3.09938 11.3731 1.93941C10.2131 0.779452 8.64044 0.126935 7.00001 0.125ZM7.00001 8.5625C6.555 8.5625 6.11998 8.43054 5.74997 8.18331C5.37996 7.93607 5.09157 7.58467 4.92128 7.17354C4.75098 6.7624 4.70642 6.31 4.79324 5.87355C4.88006 5.43709 5.09435 5.03618 5.40902 4.72151C5.72368 4.40684 6.1246 4.19255 6.56105 4.10573C6.99751 4.01892 7.44991 4.06347 7.86104 4.23377C8.27218 4.40407 8.62358 4.69246 8.87081 5.06247C9.11805 5.43248 9.25001 5.86749 9.25001 6.3125C9.24926 6.90901 9.01197 7.48087 8.59017 7.90267C8.16838 8.32446 7.59652 8.56176 7.00001 8.5625Z" fill="white"/>\n                  </svg>\n                </div>\n                <div>\n                  ${n}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <img id = "weather__image" src="https://openweathermap.org/img/wn/04n@2x.png" alt="${i}" />\n        <div id = "weather__time">${(new Date).toLocaleString("en-US",{weekday:"short"})}<br />${(new Date).toLocaleString("en-US",{day:"numeric"})} ${(new Date).toLocaleString("en-US",{month:"short"})} ${(new Date).toLocaleString("en-US",{year:"numeric"})}</div>`);document.querySelector("#weather").innerHTML=o})).catch((e=>console.log(e)))}navigator.geolocation?navigator.geolocation.getCurrentPosition((n=>{e(n.coords.latitude,n.coords.longitude,"edcdf24847596a8bc6f71c1052f5a8e5")}),(n=>{e(40.778793,-73.966587,"edcdf24847596a8bc6f71c1052f5a8e5")})):(console.log("Geolocation is not supported by this browser."),e(40.778793,-73.966587,"edcdf24847596a8bc6f71c1052f5a8e5"))}(),i("kV9l4");o=i("14MV6");var c=i("5knmu"),d=i("5mU4k");s=i("jcdIr"),r=i("hhGG0"),d=i("5mU4k");const l=document.getElementById("pagination"),m=document.querySelector(".page-container"),p=document.querySelector("button.next-page"),u=document.querySelector("button.prew-page"),g=document.querySelector(".news-card");window.addEventListener("load",(async function(e){e.preventDefault();try{const e=await _.fetchMostPopular(),n=e.results.length;v.totalPages=Math.ceil(n/h);const t=(0,d.normalizationPopular)(e).slice(0,h);g.innerHTML="",(0,c.renderArticle)(t),(0,s.checkFavorites)(t),(0,r.checkRead)(t)}catch(e){console.log(e)}async function n(e){try{const n=await _.fetchArtic(),t=(0,d.default)(n),a=(e-1)*h,i=a+h,o=t.slice(a,i);g.innerHTML="",(0,c.renderArticle)(o)}catch(e){console.log(e)}}function t(){const{totalPages:e,curPage:n,numLinksTwoSide:t}=v,i=t+4;let o="",s="",r='<li class="pg-item"><a class="pg-link">...</a></li>',c=0;const d=n-t,m=n+t;let p="";for(let t=1;t<=e;t++)p=t===n?"active":"",e>=2*i-1?d>3&&m<e-3+1?t>=d&&t<=m&&(s+=a(t,p)):n<i&&t<=i||n>e-i&&t>=e-i+1||t===e||1===t?o+=a(t,p):(c++,1===c&&(o+=r)):o+=a(t,p);s?(s=a(1)+r+s+r+a(e),l.innerHTML=s):l.innerHTML=o}function a(e,n=""){return` <li class="pg-item ${n}" data-page="${e}">\n        <a class="pg-link" href="#">${e}</a>\n    </li>`}function i(){1===v.curPage?u.disabled=!0:u.disabled=!1}function o(){v.curPage===v.totalPages?p.disabled=!0:p.disabled=!1}t(),l.addEventListener("click",(e=>{const a=e.target;if(a.dataset.page){n(a.dataset.page);const s=parseInt(e.target.dataset.page);v.curPage=s,t(),i(),o(),window.scrollTo({top:0,behavior:"smooth"})}})),m.addEventListener("click",(function(e){var a;(a=e.target).classList.contains("first-page")?v.curPage=1:a.classList.contains("last-page")?v.curPage=v.totalPages:a.classList.contains("prew-page")?(v.curPage--,i(),n(v.curPage),window.scrollTo({top:0,behavior:"smooth"}),p.disabled=!1):a.classList.contains("next-page")&&(v.curPage++,o(),n(v.curPage),window.scrollTo({top:0,behavior:"smooth"}),u.disabled=!1),t()}))}));const _=new(0,o.default);let h=9;const w=window.matchMedia("(min-width: 1280px)"),y=window.matchMedia("(min-width: 767px) and (max-width: 1279px)"),f=window.matchMedia("(max-width: 766px)");console.log("desktopWidth ",w),console.log("tabletWidth ",y),console.log("mobileWidth ",f),w.matches?h=8:y.matches?h=7:f.matches&&(h=4);const v={curPage:1,numLinksTwoSide:1,totalPages:10};document.querySelector(".btn-scroll").addEventListener("click",(()=>window.scrollTo({top:0,behavior:"smooth"})));
//# sourceMappingURL=index.dc9a94fb.js.map
